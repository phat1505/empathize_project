<!doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <title>Empathize</title>
    <title>Empathize</title>
    <link rel="icon" href="./images/logo/logo1.png" type="image/x-icon">
    <link rel="stylesheet" href="output.css">
    <style>
        /* optional helper (if you want custom easing) */
        .reveal {
            transition-timing-function: cubic-bezier(.2, .9, .3, 1);
        }
    </style>
</head>


<body class="bg-slate-950 text-white ">

    <!-- NAV (thay thế phần nav cũ) -->
    <nav class="bg-transparent sticky top-0 w-full z-20">
        <div class="flex items-center justify-between mx-6 md:mx-20 py-3">
            <!-- Menu desktop -->
            <ul class="hidden md:flex items-center text-2xl font-storm-gust space-x-4 md:ml-10">
                <li><a href="./index.html" class="px-2 text-red-800">Home</a></li>
                <li><a href="./music.html" class="px-2 hover:text-red-800">Music</a></li>
                <li><a href="./member.html" class="px-2 hover:text-red-800">Member</a></li>
                <li><a href="./about.html" class="px-2 hover:text-red-800">About</a></li>
            </ul>
            <!-- Logo -->
            <a href="./index.html" class="flex-shrink-0">
                <img src="./images/logo/logo1.png" class="w-[200px] md:w-[250px]" alt="logo" />
            </a>
            <!-- Icon group desktop -->
            <div class="hidden md:flex items-center space-x-16">
                <a href="#"><img src="images/icon/facebook.png" class="w-6 h-6" /></a>
                <a href="#"><img src="images/icon/instagram.png" class="w-6 h-6" /></a>
                <a href="#"><img src="images/icon/email.png" class="w-6 h-6" /></a>
                <a href="#"><img src="images/icon/youtube.png" class="w-6 h-6 mr-12" /></a>
            </div>

            <!-- Mobile: button -->
            <button id="menuBtn" aria-expanded="false" aria-controls="mobileMenu"
                class="md:hidden ml-4 text-3xl focus:outline-none z-50 relative">
                ☰
            </button>
        </div>

        <!-- Mobile menu (ẩn mặc định). .mobile-menu dùng để animation bằng max-height -->
        <div id="mobileMenu" class="mobile-menu md:hidden max-h-0 opacity-0 px-6 font-storm-gust mb-2">
            <a href="./index.html" class="block py-3 border-b border-gray-700">Home</a>
            <a href="./music.html" class="block py-3 border-b border-gray-700">Music</a>
            <a href="./member.html" class="block py-3 border-b border-gray-700">Member</a>
            <a href="./about.html" class="block py-3">About</a>
        </div>
        <div id="mobileMenuIcons" class="mobile-menu md:hidden max-h-0 opacity-0 flex justify-start ml-6 space-x-6 mb-4">
            <a href="#"><img src="images/icon/facebook.png" class="w-6 h-6" /></a>
            <a href="#"><img src="images/icon/instagram.png" class="w-6 h-6" /></a>
            <a href="#"><img src="images/icon/email.png" class="w-6 h-6" /></a>
            <a href="#"><img src="images/icon/youtube.png" class="w-6 h-6" /></a>
        </div>
    </nav>

    <script>
        const menuBtn = document.getElementById('menuBtn');
        const mobileMenu = document.getElementById('mobileMenu');
        const mobileMenuIcons = document.getElementById("mobileMenuIcons");

        // helper toggle with smooth slide (max-height)
        function openMobileMenu() {
            mobileMenu.style.maxHeight = mobileMenu.scrollHeight + 'px';
            mobileMenu.style.opacity = '1';
            mobileMenuIcons.style.maxHeight = mobileMenuIcons.scrollHeight + 'px';
            mobileMenuIcons.style.opacity = '1';
            menuBtn.setAttribute('aria-expanded', 'true');
        }

        function closeMobileMenu() {
            mobileMenu.style.maxHeight = '0';
            mobileMenu.style.opacity = '0';
            mobileMenuIcons.style.maxHeight = '0';
            mobileMenuIcons.style.opacity = '0';
            menuBtn.setAttribute('aria-expanded', 'false');
        }

        menuBtn.addEventListener('click', () => {
            if (mobileMenu.style.maxHeight && mobileMenu.style.maxHeight !== '0px') {
                closeMobileMenu();
            } else {
                openMobileMenu();
            }
        });


        // Ensure correct state on resize (desktop -> hide mobile menu)
        window.addEventListener('resize', () => {
            if (window.innerWidth >= 768) {
                mobileMenu.style.maxHeight = '0';
                mobileMenu.style.opacity = '0';
                menuBtn.setAttribute('aria-expanded', 'false');
            }
        });
    </script>
    <main class="max-w-7xl space-y-16 mx-auto">
        <!-- each .reveal-item will reveal when scrolled into view -->
        <section class="flex gap-4">
            <!-- Cột 1 -->
            <div class="flex flex-col gap-4 md:mb-4 md:ml-8">
                <img src="./images/band/1.jpg" loading="lazy" alt="demo1"
                    class="reveal-item w-[400px] rounded-lg opacity-0 translate-y-8 reveal transition-all duration-700 md:mb-4"
                    data-delay="300" />

                <img src="./images/band/3.png" loading="lazy" alt="demo3"
                    class="reveal-item w-[400px] h-auto rounded-lg opacity-0 translate-y-8 reveal transition-all duration-700 md:mb-4"
                    data-delay="900" />
                <img src="./images/band/3.png" loading="lazy" alt="demo3"
                    class="reveal-item w-[400px] h-auto rounded-lg opacity-0 translate-y-8 reveal transition-all duration-700 md:mb-4"
                    data-delay="900" />
            </div>

            <!-- Cột 2 -->
            <div class="flex flex-col gap-4 md:mb-4">
                <img src="./images/band/1.jpg" loading="lazy" alt="demo2"
                    class="reveal-item w-[400px] rounded-lg opacity-0 translate-y-8 reveal transition-all duration-700 md:mb-4"
                    data-delay="600" />

                <img src="./images/band/2.jpg" loading="lazy" alt="demo3"
                    class="reveal-item w-[400px] h-auto rounded-lg opacity-0 translate-y-8 reveal transition-all duration-700 md:mb-4"
                    data-delay="900" />
            </div>

            <!-- Cột 3 -->
            <div class="flex flex-col gap-4 ">
                <img src="./images/band/1.jpg" loading="lazy" alt="demo3"
                    class="reveal-item w-[400px] h-auto rounded-lg opacity-0 translate-y-8 reveal transition-all duration-700 md:mb-4"
                    data-delay="900" />

                <img src="./images/band/2.jpg" loading="lazy" alt="demo3"
                    class="reveal-item w-[400px] h-auto rounded-lg opacity-0 translate-y-8 reveal transition-all duration-700 md:mb-4"
                    data-delay="900" />
                <img src="./images/band/2.jpg" loading="lazy" alt="demo3"
                    class="reveal-item w-[400px] h-auto rounded-lg opacity-0 translate-y-8 reveal transition-all duration-700 md:mb-4"
                    data-delay="900" />
                <img src="./images/band/3.png" loading="lazy" alt="demo3"
                    class="reveal-item w-[400px] h-auto rounded-lg opacity-0 translate-y-8 reveal transition-all duration-700 md:mb-4"
                    data-delay="900" />
                <img src="./images/band/3.png" loading="lazy" alt="demo3"
                    class="reveal-item w-[400px] h-auto rounded-lg opacity-0 translate-y-8 reveal transition-all duration-700 md:mb-4"
                    data-delay="900" />
            </div>
        </section>

    </main>

    <script>
        function getRootMargin() {
            return window.innerWidth >= 768 ? '-150px 0px -50px 0px' : '20px 0px -10px 0px';
        }
        // IntersectionObserver options
        const ioOptions = {
            root: null,
            rootMargin: getRootMargin(),
            threshold: 0.05
        };

        const io = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                const el = entry.target;
                const delay = parseInt(el.dataset.delay || 0, 5);

                if (entry.isIntersecting) {
                    // Scroll tới → hiện với delay
                    setTimeout(() => {
                        el.classList.remove('opacity-0', 'translate-y-8');
                        el.classList.add('opacity-100', 'translate-y-0');
                    }, delay);
                } else {
                    // Scroll ra → ẩn ngay (không delay)
                    el.classList.add('opacity-0', 'translate-y-8');
                    el.classList.remove('opacity-100', 'translate-y-0');
                }
            });
        }, ioOptions);

        document.querySelectorAll('.reveal-item').forEach(el => io.observe(el));

    </script>
</body>

</html>